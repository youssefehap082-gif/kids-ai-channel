name: Test Detect Workflow

on:
  # علشان يظهر زرار Run Workflow
  workflow_dispatch:

  # تشغيل تلقائي عند أي push على الفرعين
  push:
    branches:
      - main
      - automation/add-pipeline

jobs:
  test_detect:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: Print branch info
        run: |
          echo "Current branch: ${{ github.ref }}"
          echo "Repository: ${{ github.repository }}"
          echo "Commit SHA: ${{ github.sha }}"

      - name: List repository files
        run: |
          echo "Listing files..."
          ls -la

      - name: Success message
        run: |
          echo "Test Detect Workflow completed successfully!"
